// Class Features

    // Consumptive Power
        new entry "CONSUMPTIVE_POWER"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEConsumptivePowerName]"
        data "Icon" "Skill_Sorcerer_Passive_Metamagic_EmpoweredSpell"
        data "StackId" "CONSUMPTIVE_POWER"
        data "Boosts" "UnlockSpellVariant(IsPsiSpell(), ModifyUseCosts(Replace,PsiPointsResource,0,-1,PsiPointsResource),ModifyTooltipDescription())"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "CONSUMPTIVE_POWER_MAX_HP_L1"
        type "StatusData"
        data "StatusType" "BOOST"
        data "StackType" "Stack"
        data "Properties" "IsHidden"
        data "Boosts" "IncreaseMaxHP(-2)"
        data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "CONSUMPTIVE_POWER_MAX_HP_L2"
        type "StatusData"
        data "StatusType" "BOOST"
        data "StackType" "Stack"
        data "Properties" "IsHidden"
        data "Boosts" "IncreaseMaxHP(-4)"
        data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "CONSUMPTIVE_POWER_MAX_HP_L3"
        type "StatusData"
        data "StatusType" "BOOST"
        data "StackType" "Stack"
        data "Properties" "IsHidden"
        data "Boosts" "IncreaseMaxHP(-6)"
        data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "CONSUMPTIVE_POWER_MAX_HP_L4"
        type "StatusData"
        data "StatusType" "BOOST"
        data "StackType" "Stack"
        data "Properties" "IsHidden"
        data "Boosts" "IncreaseMaxHP(-8)"
        data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "CONSUMPTIVE_POWER_MAX_HP_L5"
        type "StatusData"
        data "StatusType" "BOOST"
        data "StackType" "Stack"
        data "Properties" "IsHidden"
        data "Boosts" "IncreaseMaxHP(-10)"
        data "StatusPropertyFlags" "DisableCombatlog;DisableOverhead;DisablePortraitIndicator"
        data "StatusGroups" "SG_RemoveOnRespec"


// Mental Talents
    // Iron Durability II

        new entry "ID_TEMPHP"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEShout_IronDurability_TempHPName]"
        data "Description" "[HANDLEShout_IronDurability_TempHPDesc]"
        data "DescriptionParams" "SpellCastingAbilityModifier"
        data "Icon" "Spell_Evocation_CureWounds"
        data "StackId" "TEMPORARY_HP"
        data "StackPriority" "7"
        data "Boosts" "TemporaryHP(SpellCastingAbilityModifier)"
        data "RemoveConditions" "not HasTemporaryHP()"
        data "RemoveEvents" "OnDamage"
        data "StatusGroups" "SG_RemoveOnRespec"

    // Iron Durability III

        new entry "ID_RESISTANCE_BLUDGEONING"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_BLUDGEONING]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Bludgeoning)"

        new entry "ID_RESISTANCE_PIERCING"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_PIERCING]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Piercing)"

        new entry "ID_RESISTANCE_SLASHING"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_SLASHING]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Slashing)"

        new entry "ID_RESISTANCE_COLD"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_COLD]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Cold)"

        new entry "ID_RESISTANCE_FIRE"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_FIRE]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Fire)"

        new entry "ID_RESISTANCE_LIGHTNING"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_LIGHTNING]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Lightning)"

        new entry "ID_RESISTANCE_THUNDER"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_THUNDER]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Thunder)"

        new entry "ID_RESISTANCE_ACID"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_ACID]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Acid)"

        new entry "ID_RESISTANCE_POISON"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_POISON]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Poison)"

        new entry "ID_RESISTANCE_RADIANT"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_RADIANT]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Radiant)"

        new entry "ID_RESISTANCE_NECROTIC"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_NECROTIC]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Necrotic)"

        new entry "ID_RESISTANCE_FORCE"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_FORCE]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Force)"

        new entry "ID_RESISTANCE_PSYCHIC"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEID_RESISTANCE_PSYCHIC]"
        data "Icon" "Spell_Abjuration_ProtectionFromEnergy"
        data "StackId" "ABSORB_ELEMENTS_ACID_DAMAGE"
        data "Boosts" "SetDamageResistance(Psychic)"

        
    // Metamorphosis II & IV  // Credit to Xhevo and his Mystic Class for the Metamorphosis forms https://www.nexusmods.com/baldursgate3/mods/2786

        // Large Form
        new entry "PSION_LARGE_FORM"
        type "StatusData"
        data "StatusType" "BOOST"
        using "ENLARGE"
        data "DisplayName" "[HANDLEPSION_LARGE_FORMName]"
        data "Description" "[HANDLEPSION_LARGE_FORMDesc]"
        data "DescriptionParams" "DealDamage(1d4,MainMeleeWeaponDamageType);Distance(1.5)"
        data "Icon" "Spell_Transmutation_Enlarge"
        data "SoundLoop" "MAG_Status_EnlargeSelf_Loop"
        data "SoundStop" "MAG_Status_EnlargeSelf_End"
        data "StackId" "SIZE"
        data "Boosts" "Advantage(Ability, Strength); Advantage(SavingThrow, Strength);ObjectSize(+1);ScaleMultiplier(1.33);CarryCapacityMultiplier(1.25);UnlockSpellVariant(GiantGrowthCheck(), ModifyTargetRadius(AdditiveBase, 1.5));IF(IsMeleeAttack())DamageBonus(1d4)"
        data "Passives" "EnlargeWeightMedium;EnlargeWeightLarge"
        data "StatusGroups" "SG_RemoveOnRespec"
        data "StatusEffect" "ead75c6a-806e-4db7-8d51-f06beca00fe2"

        new entry "PSION_LARGE_FORM_TEMPORARY_HP"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEPSION_LARGE_FORMName]"
        data "Description" "[HANDLEPSION_LARGE_FORMDesc]"
        data "DescriptionParams" "Level+SpellCastingAbilityModifier"
        data "Icon" "Spell_Transmutation_Enlarge"
        data "StackId" "TEMPORARY_HP"
        data "StackPriority" "Level+SpellCastingAbilityModifier"
        data "Boosts" "TemporaryHP(Level+SpellCastingAbilityModifier)"
        data "RemoveConditions" "not HasTemporaryHP()"
        data "RemoveEvents" "OnDamage"
        data "StatusGroups" "SG_RemoveOnRespec"

        // Giant Form
        new entry "PSION_HUGE_FORM"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEPSION_HUGE_FORMName]"
        data "Description" "[HANDLEPSION_HUGE_FORMDesc]"
        data "DescriptionParams" "DealDamage(2d6,MainMeleeWeaponDamageType);Distance(3)"
        data "Icon" "Spell_Transmutation_Enlarge"
        data "SoundLoop" "MAG_Status_EnlargeSelf_Loop"
        data "SoundStop" "MAG_Status_EnlargeSelf_End"
        data "StackId" "SIZE"
        data "Boosts" "Advantage(Ability, Strength);Advantage(SavingThrow, Strength);ObjectSize(+2);ScaleMultiplier(1.5);CarryCapacityMultiplier(1.5);UnlockSpellVariant(GiantGrowthCheck(), ModifyTargetRadius(AdditiveBase, 3));IF(IsMeleeAttack())DamageBonus(2d6)"
        data "Passives" "EnlargeWeightMedium;EnlargeWeightLarge"
        data "StatusGroups" "SG_RemoveOnRespec"
        data "StatusEffect" "ead75c6a-806e-4db7-8d51-f06beca00fe2"

        new entry "PSION_HUGE_FORM_TEMPORARY_HP"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEPSION_HUGE_FORMName]"
        data "Description" "[HANDLEPSION_HUGE_FORMDesc]"
        data "DescriptionParams" "2*(Level+SpellCastingAbilityModifier)"
        data "Icon" "Spell_Transmutation_Enlarge"
        data "StackId" "TEMPORARY_HP"
        data "StackPriority" "2*(Level+SpellCastingAbilityModifier)"
        data "Boosts" "TemporaryHP(2*(Level+SpellCastingAbilityModifier))"
        data "RemoveConditions" "not HasTemporaryHP()"
        data "RemoveEvents" "OnDamage"
        data "StatusGroups" "SG_RemoveOnRespec"

        // "Tiny" Form
        new entry "PSION_TINY_FORM"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEPSION_TINY_FORMName]"
        data "Description" "[HANDLEPSION_TINY_FORMDesc]"
        data "Icon" "Spell_Transmutation_Reduce"
        data "SoundStart" "Alchemy_Condition_OilOfDiminution_Shrink"
        data "SoundLoop" "Misc_Status_Reduce_MO"
        data "SoundStop" "Misc_Status_Reduce_MO_Stop"
        data "StackId" "SIZE"
        data "Boosts" "Disadvantage(Ability, Strength); Disadvantage(SavingThrow, Strength);ObjectSize(-1);WeightCategory(-1);ScaleMultiplier(0.67);CarryCapacityMultiplier(0.75);Advantage(Skill,Stealth)"
        data "StatusGroups" "SG_RemoveOnRespec"
        data "StatusEffect" "63ac2820-3c0d-4305-b269-f6df70cf45b7"

        // Microscopic Form
        new entry "PSION_DIMINUTIVE_FORM"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[HANDLEPSION_DIMINUTIVE_FORMName]"
        data "Description" "[HANDLEPSION_DIMINUTIVE_FORMDesc]"
        data "DescriptionParams" "1d4"
        data "Icon" "Spell_Transmutation_Reduce"
        data "SoundStart" "Alchemy_Condition_OilOfDiminution_Shrink"
        data "SoundLoop" "Misc_Status_Reduce_MO"
        data "SoundStop" "Misc_Status_Reduce_MO_Stop"
        data "StackId" "SIZE"
        data "Boosts" "Disadvantage(Ability, Strength); Disadvantage(SavingThrow, Strength);ObjectSize(-2);WeightCategory(-2);ScaleMultiplier(0.33);CarryCapacityMultiplier(0.5);AC(5);Skill(Stealth, 10);Advantage(Skill,Stealth);CharacterWeaponDamage(-99)"
        data "StatusGroups" "SG_RemoveOnRespec"
        data "StatusEffect" "63ac2820-3c0d-4305-b269-f6df70cf45b7"

    // Precognition III
        new entry "PRECOGNITIONIII_DEFENSE"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "hda7d43fbg19f1g4427g9185g6c7450208263"
        data "Description" "h7387ae92g91dfg4347ga6b7gded81bd89b69"
        data "Icon" "Spell_Shield"
        data "StackId" "PRECOGNITIONIII_DEFENSE"
        data "Boosts" "UnlockSpell(Shout_PrecognitionIII_Defense_Reaction)"
        data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
        data "OnRemoveFunctors" "BreakConcentration()"

    // Restoration II

        new entry "RESTORATIONII_HEAL_RESOURCE"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[RESTORATIONII_HEAL_RESOURCE]"
        data "Icon" "Action_Paladin_LayOnHands_BigHeal"
        data "StackId" "RESTORATIONII_HEAL_RESOURCE"
        data "Boosts" "ActionResourceOverride(PsionRestorationPoint,25,0)"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "RESTORATIONII_HEAL_RESOURCE_6"
        type "StatusData"
        data "StatusType" "BOOST"
        data "DisplayName" "[RESTORATIONII_HEAL_RESOURCE]"
        data "Icon" "Action_Paladin_LayOnHands_BigHeal"
        data "StackId" "RESTORATIONII_HEAL_RESOURCE"
        data "Boosts" "ActionResourceOverride(PsionRestorationPoint,5,0)"
        data "StatusGroups" "SG_RemoveOnRespec"

        new entry "RESTORATIONII_HEAL_RESOURCE_7"
        type "StatusData"
        data "StatusType" "BOOST"
        using "RESTORATIONII_HEAL_RESOURCE_6"

        new entry "RESTORATIONII_HEAL_RESOURCE_8"
        type "StatusData"
        data "StatusType" "BOOST"
        using "RESTORATIONII_HEAL_RESOURCE_6"

        new entry "RESTORATIONII_HEAL_RESOURCE_9"
        type "StatusData"
        data "StatusType" "BOOST"
        using "RESTORATIONII_HEAL_RESOURCE_6"
        
        new entry "RESTORATIONII_HEAL_RESOURCE_10"
        type "StatusData"
        data "StatusType" "BOOST"
        using "RESTORATIONII_HEAL_RESOURCE_6"
        
        new entry "RESTORATIONII_HEAL_RESOURCE_11"
        type "StatusData"
        data "StatusType" "BOOST"
        using "RESTORATIONII_HEAL_RESOURCE_6"
        
        new entry "RESTORATIONII_HEAL_RESOURCE_12"
        type "StatusData"
        data "StatusType" "BOOST"
        using "RESTORATIONII_HEAL_RESOURCE_6"